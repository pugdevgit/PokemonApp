# PokemonApp (SwiftUI)

Простое приложение Pokédex на SwiftUI: получает данные из PokeAPI, поддерживает бесконечную прокрутку, pull-to-refresh, экран деталей, офлайн-кэш списка и деталей, а также избранное, сохраняемое в UserDefaults.

## Возможности
- **Список покемонов** с официальным артом
- **Бесконечная прокрутка** с подзагрузкой
- **Pull-to-refresh** (обновление списка)
- **Экран деталей**: базовый опыт, рост, вес и арт
- **Избранное**: добавление/удаление, вкладка «Избранное», очистка всех с подтверждением
- **Офлайн-режим**: кэш списка и деталей, аккуратная обработка ошибок без сети
- **Обработка ошибок** с повтором запроса

## Технологии
- **SwiftUI** — интерфейс
- **Combine** — асинхронные пайплайны
- **URLSession** — HTTP-запросы к PokeAPI
- **Kingfisher** — загрузка и кэш изображений
- **Network (NWPathMonitor)** — слежение за сетью
- **UserDefaults** — простой кэш/хранилище
- **Архитектура**: MVVM (`PokemonViewModel` + модели + представления)

## Требования
- Xcode 15+
- iOS 16+
- Swift Package Manager (встроен в Xcode)

## Структура проекта
- `PokemonAppApp.swift` — точка входа, инжектит `PokemonViewModel`
- `ContentView.swift` — сегментный контрол: Все / Избранное
- `PokemonListView.swift` — список, бесконечная прокрутка, pull-to-refresh, пустые состояния, алерты ошибок; используется `Kingfisher`
- `PokemonDetailView.swift` — экран деталей (из списка)
- `PokemonViewModel.swift` — пагинация, сеть, кэш, избранное, обработка ошибок
- `PokemonModels.swift` — Codable-модели, кэш-хелпер, ошибки
- `Assets.xcassets` — ассеты

## Источник данных
- PokeAPI: https://pokeapi.co/
  - Список: `GET /api/v2/pokemon?limit={limit}&offset={offset}`
  - Детали: `GET /api/v2/pokemon/{id}`
  - Арт: репозиторий спрайтов на GitHub (official-artwork)

## Установка и запуск
1. Откройте `PokemonApp.xcodeproj` в Xcode.
2. Убедитесь, что пакет Kingfisher добавлен через SPM (если Xcode предложит резолв зависимостей):
   - File → Add Packages… → `https://github.com/onevcat/Kingfisher`
   - Добавьте пакет в таргет проекта.
3. Выберите симулятор iOS (iOS 16+).
4. Соберите и запустите (Cmd+R).

## Примечания по кэшу и офлайн-режиму
- Кэш списка: JSON в `UserDefaults`, используется при отсутствии сети.
- Кэш деталей: JSON на каждый покемон, сохраняется при первом успешном получении.
- Избранное: `Set<String>` из ID покемонов в `UserDefaults` с возможностью полной очистки.

## Лицензия
Лицензия не указана.
